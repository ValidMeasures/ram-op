<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The RAM-OP Workflow • oldr</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/sandstone/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="The RAM-OP Workflow">
<meta property="og:description" content="oldr">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">oldr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/oldr.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/ramOPworkflow.html">The RAM-OP Workflow</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="http://twitter.com/ernestguevarra">
    <span class="fab fa fab fa-twitter fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/rapidsurveys/oldr/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="ramOPworkflow_files/accessible-code-block-0.0.1/empty-anchor.js"></script><script src="ramOPworkflow_files/htmlwidgets-1.5.1/htmlwidgets.js"></script><script src="ramOPworkflow_files/viz-1.8.2/viz.js"></script><link href="ramOPworkflow_files/DiagrammeR-styles-0.2/styles.css" rel="stylesheet">
<script src="ramOPworkflow_files/grViz-binding-1.0.6.1/grViz.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>The RAM-OP Workflow</h1>
                        <h4 class="author">Ernest Guevarra</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/rapidsurveys/oldr/blob/master/vignettes/ramOPworkflow.Rmd"><code>vignettes/ramOPworkflow.Rmd</code></a></small>
      <div class="hidden name"><code>ramOPworkflow.Rmd</code></div>

    </div>

    
    
<p>The RAM-OP Workflow is summarised in the diagram below.</p>
<div id="htmlwidget-1ff87aec19d846be8e9d" style="width:768px;height:960px;" class="grViz html-widget"></div>
<script type="application/json" data-for="htmlwidget-1ff87aec19d846be8e9d">{"x":{"diagram":"\n  digraph oxcovid19 {\n\n    # a \"graph\" statement\n    graph [overlap = false, fontsize = 14, fontname = Helvetica]\n\n    # Terminal nodes\n    node [shape = oval, width = 1.5, penwidth = 2, fontsize = 14]\n        \n    a [label = \"START\"; color = darkgreen; fontcolor = darkgreen];\n    l [label = \"END\"; color = crimson; fontcolor = crimson];\n\n    # Input/output nodes\n    node [shape = parallelogram, fixedsize = true, height = 1, width = 1.5, \n          penwidth = 2, color = royalblue1, fontcolor = royalblue1]\n    \n    b [label = \"Collect\ndata\"];\n    j [label = \"Report\nestimates\"]\n\n    # Process nodes\n    node [shape = rect]\n  \n    d [label = \"Process\nand\nrecode\ndata\"];\n    g [label = \"Estimate\nindicators\"];\n    h [label = \"Estimate\nanthropometric\nindicators\"];\n\n    # Package nodes\n    node [shape = oval, fixedsize = TRUE, width = 2.5, penwidth = 2, \n          fontsize = 14, fontname = Courier, color = darkviolet, \n          fontcolor = darkviolet]\n    \n    c [label = \"EpiData\nor\nOpen Data Kit\";];\n    e [label = \"create_op_\nfunctions\";];\n    f [label = \"estimateClassic\"];\n    i [label = \"estimateProbit\"];\n    k [label = \"reportOP\"];\n\n    edge [minlen = 2, arrowsize = 0.75, penwidth = 2, color = dimgray]\n    \n    a -> b\n    b -> d\n    d -> g\n    d -> h\n    g -> j\n    h -> j\n    j -> l\n\n    edge [minlen = 3]\n\n    b -> c\n    c -> b\n    d -> e\n    e -> d\n    f -> g\n    g -> f\n    h -> i\n    i -> h\n    j -> k\n    k -> j\n\n    subgraph {\n      rank = same; b; c;\n    }\n\n    subgraph {\n      rank = same; d; e;\n    }\n\n    subgraph {\n      rank = same; f; g; h; i;\n    }\n    \n    subgraph {\n      rank = same; j; k\n    }\n\n  }","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script><p>The <code>oldr</code> package provides functions to use for all steps after data collection. These functions were developed specifically for the data structure created by the <a href="https://www.dropbox.com/s/2kudlxjqcqn8wph/RAMOP%20data%20entry%20files%20%28English%29.zip?dl=0">EpiData</a> or the <a href="https://ona.io/helpage/75817/368135/form.xls">Open Data Kit</a> collection tools. The data structure produced by these collection tools is shown by the dataset <code>testSVY</code> included in the <code>oldr</code> package.</p>
<div class="sourceCode" id="cb1"><html><body><pre class="r"><span class="co">## Showing first 10 rows of the dataset</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="no">testSVY</span>, <span class="fl">10</span>)
<span class="co">#&gt;    ad2 psu hh id d1 d2 d3 d4 d5 f1 f2a f2b f2c f2d f2e f2f f2g f2h f2i f2j f2k</span>
<span class="co">#&gt; 1    1 201  1  1  1 67  2  5  2  3   2   1   1   2   2   1   1   1   2   2   2</span>
<span class="co">#&gt; 2    1 201  2  1  1 74  1  2  2  3   2   1   1   2   1   1   1   1   2   2   2</span>
<span class="co">#&gt; 3    1 201  3  1  1 60  1  2  2  2   2   2   2   2   2   2   2   2   2   2   2</span>
<span class="co">#&gt; 4    1 201  3  2  1 60  2  2  2  3   2   2   1   2   2   2   1   1   2   2   2</span>
<span class="co">#&gt; 5    1 201  4  1  1 85  2  5  2  3   2   1   1   1   2   2   2   2   2   2   2</span>
<span class="co">#&gt; 6    1 201  5  1  2 86  1  5  1  4   2   1   1   2   2   2   1   1   2   2   2</span>
<span class="co">#&gt; 7    1 201  6  1  1 80  1  5  2  3   2   1   1   2   2   1   1   1   2   2   2</span>
<span class="co">#&gt; 8    1 201  6  2  1 60  2  5  2  3   2   2   1   2   2   2   1   1   2   2   2</span>
<span class="co">#&gt; 9    1 201  7  1  1 62  1  2  2  2   2   1   1   2   2   1   2   2   2   2   2</span>
<span class="co">#&gt; 10   1 201  8  1  1 72  2  5  2  2   2   1   1   2   2   1   1   2   2   2   1</span>
<span class="co">#&gt;    f2l f2m f2n f2o f2p f2q f2r f2s f3 f4 f5 f6 f7 a1 a2 a3 a4 a5 a6 a7 a8 k6a</span>
<span class="co">#&gt; 1    1   2   2   2   2   2   2   1  0  0  0  1  2  2  2  2  2  2  2  1  2   3</span>
<span class="co">#&gt; 2    2   2   2   2   2   2   1   1  0  0  1  2  2  2  2  2  2  1  2  1  2   3</span>
<span class="co">#&gt; 3    1   2   2   2   2   2   2   1  0  0  0  2  2  2  2  2  2  2  2  2  2   2</span>
<span class="co">#&gt; 4    2   2   2   2   2   2   2   2  0  0  0  2  2  2  2  2  2  2  2  2  2   2</span>
<span class="co">#&gt; 5    1   2   2   2   2   2   1   1  0  0  0  2  2  2  2  2  2  1  2  2  1   3</span>
<span class="co">#&gt; 6    1   2   2   2   2   2   2   1  1  1  1  2  2  2  2  2  2  2  2  1  1   5</span>
<span class="co">#&gt; 7    1   2   2   2   2   2   2   1  0  0  0  2  2  2  2  2  2  2  2  1  1   3</span>
<span class="co">#&gt; 8    2   2   2   2   2   2   2   1  0  0  0  2  2  1  2  2  1  1  2  1  2   1</span>
<span class="co">#&gt; 9    2   2   2   2   2   2   1   1  1  2  2  2  2  2  2  2  2  1  2  2  2   3</span>
<span class="co">#&gt; 10   2   2   2   2   2   2   1   1  3  2  3  2  2  2  2  2  2  2  2  1  2   3</span>
<span class="co">#&gt;    k6b k6c k6d k6e k6f ds1 ds2 ds3 ds4 ds5 ds6a ds6b ds6c h1 h2 h3 h4 h5 h6 m1</span>
<span class="co">#&gt; 1    4   4   4   4   3   1   1   1   1   1    1    1    1  1  1 NA  1  1 NA  1</span>
<span class="co">#&gt; 2    3   1   1   2   2   1   1   1   1   1    2    2    1  1  1 NA  1  1 NA  1</span>
<span class="co">#&gt; 3    2   4   4   2   3   1   1   1   1   1    1    1    2  2 NA NA  1  1 NA  1</span>
<span class="co">#&gt; 4    2   2   2   4   4   1   1   1   2   1    2    2    2  2 NA NA  1  1 NA  1</span>
<span class="co">#&gt; 5    4   4   3   2   4   1   1   1   1   1    2    1    1  2 NA NA  1  1 NA  1</span>
<span class="co">#&gt; 6    5   5   5   5   5   1   1   1   1   1    2    1    1  2 NA NA  1  1 NA  1</span>
<span class="co">#&gt; 7    3   3   4   4   3   1   1   2   1   1    1    2    2  1  2  4  1  2  4  1</span>
<span class="co">#&gt; 8    3   1   3   3   3   1   1   1   1   1    2    1    1  1  1 NA  1  1 NA  2</span>
<span class="co">#&gt; 9    3   5   5   4   5   1   1   1   1   1    2    1    1  2 NA NA  1  1 NA  2</span>
<span class="co">#&gt; 10   4   3   3   3   3   1   1   1   2   1    1    1    1  2 NA NA  1  1 NA  2</span>
<span class="co">#&gt;    m2a m2b m2c m2d m2e m2f m2g m2h m2i w1 w2 w3 w4 as1 as2 as3 as4 va2a va2b</span>
<span class="co">#&gt; 1    1   2   2   2   2   2   2   1   2  2  2  2  2 263   2   2   2    1    1</span>
<span class="co">#&gt; 2    1   2   2   2   2   2   2   1   2  1  2  2  2 231   2   1   2    2    2</span>
<span class="co">#&gt; 3    1   1   1   2   2   2   2   2   2  2  2  2  2 275   2   2   2    1    1</span>
<span class="co">#&gt; 4    1   1   2   1   2   2   2   2   2  1  1  1  2 264   2   2   2    1    1</span>
<span class="co">#&gt; 5    1   1   2   1   2   2   2   1   2  1  2  2  2 248   2   2   2    1    1</span>
<span class="co">#&gt; 6    2   2   2   2   2   2   2   1   2  2  2  2  2 251   2   2   2    1    1</span>
<span class="co">#&gt; 7    1   2   2   2   2   2   2   1   2  2  2  2  2 258   2   2   2    2    2</span>
<span class="co">#&gt; 8   NA  NA  NA  NA  NA  NA  NA  NA  NA  1  1  2  2 221   2   9   2    2    2</span>
<span class="co">#&gt; 9   NA  NA  NA  NA  NA  NA  NA  NA  NA  1  1  2  2 328   2   2   2    2    2</span>
<span class="co">#&gt; 10  NA  NA  NA  NA  NA  NA  NA  NA  NA  1  1  2  2 227   2   2   2    2    2</span>
<span class="co">#&gt;    va2c va2d wg1 wg2 wg3 wg4 wg5 wg6</span>
<span class="co">#&gt; 1     1    1  NA  NA  NA  NA  NA  NA</span>
<span class="co">#&gt; 2     2    2  NA  NA  NA  NA  NA  NA</span>
<span class="co">#&gt; 3     1    1  NA  NA  NA  NA  NA  NA</span>
<span class="co">#&gt; 4     1    1  NA  NA  NA  NA  NA  NA</span>
<span class="co">#&gt; 5     1    1  NA  NA  NA  NA  NA  NA</span>
<span class="co">#&gt; 6     1    1  NA  NA  NA  NA  NA  NA</span>
<span class="co">#&gt; 7     2    2  NA  NA  NA  NA  NA  NA</span>
<span class="co">#&gt; 8     2    2  NA  NA  NA  NA  NA  NA</span>
<span class="co">#&gt; 9     2    2  NA  NA  NA  NA  NA  NA</span>
<span class="co">#&gt; 10    2    2  NA  NA  NA  NA  NA  NA</span></pre></body></html></div>
<div id="processing-and-recoding-data" class="section level2">
<h2 class="hasAnchor">
<a href="#processing-and-recoding-data" class="anchor"></a>Processing and recoding data</h2>
<p>Once RAM-OP data is collected, it will need to be processed and recoded based on the definitions of the various indicators included in RAM-OP. The <code>oldr</code> package provides a suite functions to perform this processing and recoding. These functions and their syntax can be easily remembered as the <code>create_op_</code> functions as their function names start with the <code>create_</code> verb followed by the <code>op_</code> label and then followed by an indicator or indicator set specific identifier or short name. Finally, an additional tag for <code>male</code> or <code>female</code> can be added to the main function to provide gender-specific outputs.</p>
<p>Currently, a standard RAM-OP can provide results for the 13 indicators or indicator sets for older people. The following table shows these indicators/indicator sets alongside the functions related to them:</p>
<table class="table">
<colgroup>
<col width="50%">
<col width="50%">
</colgroup>
<thead><tr class="header">
<th align="left"><strong>Indicator / Indicator Set</strong></th>
<th align="left"><strong>Related Functions</strong></th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Demography and situation</td>
<td align="left">
<code>create_op_demo</code>; <code>create_op_demo_males</code>; <code>create_op_demo_females</code>
</td>
</tr>
<tr class="even">
<td align="left">Food intake</td>
<td align="left">
<code>create_op_food</code>; <code>create_op_food_males</code>; <code>create_op_food_females</code>
</td>
</tr>
<tr class="odd">
<td align="left">Severe food insecurity</td>
<td align="left">
<code>create_op_hunger</code>; <code>create_op_hunger_males</code>; <code>create_op_hunger_females</code>
</td>
</tr>
<tr class="even">
<td align="left">Disability</td>
<td align="left">
<code>create_op_disability</code>; <code>create_op_disability_males</code>; <code>create_op_disability_females</code>
</td>
</tr>
<tr class="odd">
<td align="left">Activities of daily living</td>
<td align="left">
<code>create_op_adl</code>; <code>create_op_adl_males</code>; <code>create_op_adl_females</code>
</td>
</tr>
<tr class="even">
<td align="left">Mental health and well-being</td>
<td align="left">
<code>create_op_mental</code>; <code>create_op_mental_males</code>; <code>create_op_mental_females</code>
</td>
</tr>
<tr class="odd">
<td align="left">Dementia</td>
<td align="left">
<code>create_op_dementia</code>; <code>create_op_dementia_males</code>; <code>create_op_dementia_females</code>
</td>
</tr>
<tr class="even">
<td align="left">Health and health-seeking behaviour</td>
<td align="left">
<code>create_op_health</code>; <code>create_op_health_males</code>; <code>create_op_health_females</code>
</td>
</tr>
<tr class="odd">
<td align="left">Sources of income</td>
<td align="left">
<code>create_op_income</code>; <code>create_op_income_males</code>; <code>create_op_income_females</code>
</td>
</tr>
<tr class="even">
<td align="left">Water, sanitation, and hygiene</td>
<td align="left">
<code>create_op_wash</code>; <code>create_op_wash_males</code>; <code>create_op_wash_females</code>
</td>
</tr>
<tr class="odd">
<td align="left">Anthropometry and anthropometric screening coverage</td>
<td align="left">
<code>create_op_anthro</code>; <code>create_op_anthro_males</code>; <code>create_op_anthro_females</code>
</td>
</tr>
<tr class="even">
<td align="left">Visual impairment</td>
<td align="left">
<code>create_op_visual</code>; <code>create_op_visual_males</code>; <code>create_op_visual_females</code>
</td>
</tr>
<tr class="odd">
<td align="left">Miscellaneous</td>
<td align="left">
<code>create_op_misc</code>; <code>create_op_misc_males</code>; <code>create_op_misc_females</code>
</td>
</tr>
</tbody>
</table>
<p>A final function in the processing and recoding set - <code>create_op_all</code> - is provided to perform the processing and recoding of all indicators or indicator sets. This function allows for the specification of which indicators or indicator sets to process and recode which is useful for cases where not all the indicators or indicator sets have been collected or if only specific indicators or indicator sets need to be analysed or reported. This function also specifies whether a specific gender subset of the data is needed.</p>
<p>For a standard RAM-OP implementation, this step is performed in R as follows:</p>
<div class="sourceCode" id="cb2"><html><body><pre class="r"><span class="co">## Process and recode all standard RAM-OP indicators in the testSVY dataset</span>
<span class="fu"><a href="../reference/create_op_all.html">create_op_all</a></span>(<span class="kw">svy</span> <span class="kw">=</span> <span class="no">testSVY</span>)</pre></body></html></div>
<p>which results in the following output:</p>
<pre><code>#&gt; # A tibble: 192 x 138
#&gt;      psu  sex1  sex2 resp1 resp2 resp3 resp4   age ageGrp1 ageGrp2 ageGrp3
#&gt;    &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
#&gt;  1   201     0     1     1     0     0     0    67       0       1       0
#&gt;  2   201     1     0     1     0     0     0    74       0       0       1
#&gt;  3   201     1     0     1     0     0     0    60       0       1       0
#&gt;  4   201     0     1     1     0     0     0    60       0       1       0
#&gt;  5   201     0     1     1     0     0     0    85       0       0       0
#&gt;  6   201     1     0     0     1     0     0    86       0       0       0
#&gt;  7   201     1     0     1     0     0     0    80       0       0       0
#&gt;  8   201     0     1     1     0     0     0    60       0       1       0
#&gt;  9   201     1     0     1     0     0     0    62       0       1       0
#&gt; 10   201     0     1     1     0     0     0    72       0       0       1
#&gt; # … with 182 more rows, and 127 more variables: ageGrp4 &lt;dbl&gt;, ageGrp5 &lt;dbl&gt;,
#&gt; #   marital1 &lt;dbl&gt;, marital2 &lt;dbl&gt;, marital3 &lt;dbl&gt;, marital4 &lt;dbl&gt;,
#&gt; #   marital5 &lt;dbl&gt;, marital6 &lt;dbl&gt;, alone &lt;dbl&gt;, MF &lt;dbl&gt;, DDS &lt;dbl&gt;,
#&gt; #   FG01 &lt;dbl&gt;, FG02 &lt;dbl&gt;, FG03 &lt;dbl&gt;, FG04 &lt;dbl&gt;, FG05 &lt;dbl&gt;, FG06 &lt;dbl&gt;,
#&gt; #   FG07 &lt;dbl&gt;, FG08 &lt;dbl&gt;, FG09 &lt;dbl&gt;, FG10 &lt;dbl&gt;, FG11 &lt;dbl&gt;,
#&gt; #   proteinRich &lt;dbl&gt;, pProtein &lt;dbl&gt;, aProtein &lt;dbl&gt;, pVitA &lt;dbl&gt;,
#&gt; #   aVitA &lt;dbl&gt;, xVitA &lt;dbl&gt;, ironRich &lt;dbl&gt;, caRich &lt;dbl&gt;, znRich &lt;dbl&gt;,
#&gt; #   vitB1 &lt;dbl&gt;, vitB2 &lt;dbl&gt;, vitB3 &lt;dbl&gt;, vitB6 &lt;dbl&gt;, vitB12 &lt;dbl&gt;,
#&gt; #   vitBcomplex &lt;dbl&gt;, HHS1 &lt;dbl&gt;, HHS2 &lt;dbl&gt;, HHS3 &lt;dbl&gt;, wgVisionD0 &lt;dbl&gt;,
#&gt; #   wgVisionD1 &lt;dbl&gt;, wgVisionD2 &lt;dbl&gt;, wgVisionD3 &lt;dbl&gt;, wgHearingD0 &lt;dbl&gt;,
#&gt; #   wgHearingD1 &lt;dbl&gt;, wgHearingD2 &lt;dbl&gt;, wgHearingD3 &lt;dbl&gt;,
#&gt; #   wgMobilityD0 &lt;dbl&gt;, wgMobilityD1 &lt;dbl&gt;, wgMobilityD2 &lt;dbl&gt;,
#&gt; #   wgMobilityD3 &lt;dbl&gt;, wgRememberingD0 &lt;dbl&gt;, wgRememberingD1 &lt;dbl&gt;,
#&gt; #   wgRememberingD2 &lt;dbl&gt;, wgRememberingD3 &lt;dbl&gt;, wgSelfCareD0 &lt;dbl&gt;,
#&gt; #   wgSelfCareD1 &lt;dbl&gt;, wgSelfCareD2 &lt;dbl&gt;, wgSelfCareD3 &lt;dbl&gt;,
#&gt; #   wgCommunicatingD0 &lt;dbl&gt;, wgCommunicatingD1 &lt;dbl&gt;, wgCommunicatingD2 &lt;dbl&gt;,
#&gt; #   wgCommunicatingD3 &lt;dbl&gt;, wgP0 &lt;dbl&gt;, wgP1 &lt;dbl&gt;, wgP2 &lt;dbl&gt;, wgP3 &lt;dbl&gt;,
#&gt; #   wgPM &lt;dbl&gt;, ADL01 &lt;dbl&gt;, ADL02 &lt;dbl&gt;, ADL03 &lt;dbl&gt;, ADL04 &lt;dbl&gt;,
#&gt; #   ADL05 &lt;dbl&gt;, ADL06 &lt;dbl&gt;, scoreADL &lt;dbl&gt;, classADL1 &lt;dbl&gt;, classADL2 &lt;dbl&gt;,
#&gt; #   classADL3 &lt;dbl&gt;, hasHelp &lt;dbl&gt;, unmetNeed &lt;dbl&gt;, K6 &lt;dbl&gt;, K6Case &lt;dbl&gt;,
#&gt; #   DS &lt;dbl&gt;, H1 &lt;dbl&gt;, H2 &lt;dbl&gt;, H31 &lt;dbl&gt;, H32 &lt;dbl&gt;, H33 &lt;dbl&gt;, H34 &lt;dbl&gt;,
#&gt; #   H35 &lt;dbl&gt;, H36 &lt;dbl&gt;, H37 &lt;dbl&gt;, H38 &lt;dbl&gt;, H39 &lt;dbl&gt;, H4 &lt;dbl&gt;, H5 &lt;dbl&gt;,
#&gt; #   H61 &lt;dbl&gt;, H62 &lt;dbl&gt;, H63 &lt;dbl&gt;, …</code></pre>
</div>
<div id="estimating-indicators" class="section level2">
<h2 class="hasAnchor">
<a href="#estimating-indicators" class="anchor"></a>Estimating indicators</h2>
<p>Once data has been processed and appropriate recoding for indicators has been performed, indicator estimates can now be calculated.</p>
<p>It is important to note that estimation procedures need to account for the sample design. All major statistical analysis software can do this (details vary). There are two things to note:</p>
<ul>
<li><p>The RAM-OP sample is a two-stage sample. Subjects are sampled from a small number of primary sampling units (PSUs).</p></li>
<li><p>The RAM-OP sample is not prior weighted. This means that per-PSU sampling weights are needed. These are usually the populations of the PSU.</p></li>
</ul>
<p>This sample design will need to be specified to statistical analysis software being used. If no weights are provided, then the analysis may produce estimates that place undue weight to observations from smaller communities with confidence intervals with lower than nominal coverage (i.e. they will be too narrow).</p>
<div id="blocked-weighted-bootstrap" class="section level3">
<h3 class="hasAnchor">
<a href="#blocked-weighted-bootstrap" class="anchor"></a>Blocked weighted bootstrap</h3>
<p>The <code>oldr</code> package uses <strong>blocked weighted bootstrap</strong> estimation approach:</p>
<ul>
<li><p><strong>Blocked</strong> : The block corresponds to the PSU or cluster.</p></li>
<li><p><strong>Weighted</strong> : The RAM-OP sampling procedure does not use population proportional sampling to weight the sample prior to data collection as is done with SMART type surveys. This means that a posterior weighting procedure is required. The standard RAM-OP software uses a “roulette wheel” algorithm to weight (i.e. by population) the selection probability of PSUs in bootstrap replicates.</p></li>
</ul>
<p>A total of ‘m’ PSUs are sampled with-replacement from the survey dataset where ‘m’ is the number of PSUs in the survey sample. Individual records within each PSU are then sampled with-replacement. A total of ‘n’ records are sampled with-replacement from each of the selected PSUs where ‘n’ is the number of individual records in a selected PSU. The resulting collection of records replicates the original survey in terms of both sample design and sample size. A large number of replicate surveys are taken (the standard RAM-OP software uses <span class="math inline">\(r = 399\)</span> replicate surveys but this can be changed). The required statistic (e.g. the mean of an indicator value) is applied to each replicate survey. The reported estimate consists of the 50th (point estimate), 2.5th (lower 95% confidence limit), and the 97.5th (upper 95% confidence limit) percentiles of the distribution of the statistic observed across all replicate surveys. The blocked weighted bootstrap procedure is outlined in the figure below.</p>
<p><img src="../man/figures/bbw.png" width="85%" style="display: block; margin: auto;"></p>
<p>The principal advantages of using a bootstrap estimator are:</p>
<ul>
<li><p>Bootstrap estimators work well with small sample sizes.</p></li>
<li><p>The method is non-parametric and uses empirical rather than theoretical distributions. There are no assumptions of things like normality to worry about.</p></li>
<li><p>The method allows estimation of the sampling distribution of almost any statistic using only simple computational methods.</p></li>
</ul>
</div>
<div id="probit-estimator" class="section level3">
<h3 class="hasAnchor">
<a href="#probit-estimator" class="anchor"></a>PROBIT estimator</h3>
<p>The prevalence of GAM, MAM, and SAM are estimated using a <strong>PROBIT estimator</strong>. This type of estimator provides better precision than a classic estimator at small sample sizes as discussed in the following literature:</p>
<blockquote>
<p>World Health Organisation, Physical Status: The use and interpretation of anthropometry. Report of a WHO expert committee, WHO Technical Report Series 854, WHO, Geneva, 1995</p>
</blockquote>
<blockquote>
<p>Dale NM, Myatt M, Prudhon C, Briend, A, “Assessment of the PROBIT approach for estimating the prevalence of global, moderate and severe acute malnutrition from population surveys”, Public Health Nutrition, 1–6. <a href="doi:10.1017/S1368980012003345" class="uri">doi:10.1017/S1368980012003345</a>, 2012</p>
</blockquote>
<blockquote>
<p>Blanton CJ, Bilukha, OO, “The PROBIT approach in estimating the prevalence of wasting: revisiting bias and precision”, Emerging Themes in Epidemiology, 10(1), 2013, p. 8</p>
</blockquote>
<p>An estimate of GAM prevalence can be made using a classic estimator:</p>
<p><span class="math display">\[ \text{prevalence} ~ = ~ \frac{\text{Number of respondents with MUAC &lt; 210}}{\text{Total number of respondents}} \]</span> On the other ahnd, the estimate of GAM prevalence made from the RAM-OP survey data is made using a <strong>PROBIT estimator</strong>. The PROBIT function is also known as the <em>inverse cumulative distribution</em> function. This function converts parameters of the distribution of an indicator (e.g. the mean and standard deviation of a normally distributed variable) into cumulative percentiles. This means that it is possible to use the normal PROBIT function with estimates of the mean and standard deviation of indicator values in a survey sample to predict (or estimate) the proportion of the population falling below a given threshold. For example, for data with a mean MUAC of 256 mm and a standard deviation of 28 mm the output of the normal PROBIT function for a threshold of 210 mm is 0.0502 meaning that 5.02% of the population are predicted (or estimated) to fall below the 210 mm threshold.</p>
<p>Both the classic and the PROBIT methods can be thought of as estimating area:</p>
<p><img src="../man/figures/indicators26.png" width="100%" style="display: block; margin: auto;"></p>
<p>The principal advantage of the PROBIT approach is that the required sample size is usually smaller than that required to estimate prevalence with a given precision using the classic method.</p>
<p>The PROBIT method assumes that MUAC is a normally distributed variable. If this is not the case then the distribution of MUAC is transformed towards normality.</p>
<p>The prevalence of SAM is estimated in a similar way to GAM. The prevalence of MAM is estimated as the difference between the GAM and SAM prevalence estimates:</p>
<p><span class="math display">\[ \widehat{\text{GAM prevalence}} ~ = ~ \widehat{\text{GAM prevalence}} - \widehat{\text{SAM prevalence}} \]</span></p>
</div>
<div id="classic-estimator" class="section level3">
<h3 class="hasAnchor">
<a href="#classic-estimator" class="anchor"></a>Classic estimator</h3>
<p>The function <code>estimateClassic</code> in <code>oldr</code> implements the blocked weighted bootstrap classic estimator of RAM-OP. This function uses the <code>bootClassic</code> statistic to estimate indicator values.</p>
<p>The <code>estimateClassic</code> function is used for all the standard RAM-OP indicators except for anthropometry. The function is used as follows:</p>
<div class="sourceCode" id="cb4"><html><body><pre class="r"><span class="co">## Process and recode RAM-OP data (testSVY)</span>
<span class="no">df</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/create_op_all.html">create_op_all</a></span>(<span class="kw">svy</span> <span class="kw">=</span> <span class="no">testSVY</span>)

<span class="co">## Perform classic estimation on recoded data using appropriate weights provided by testPSU</span>
<span class="fu"><a href="../reference/estimateClassic.html">estimateClassic</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">df</span>, <span class="kw">w</span> <span class="kw">=</span> <span class="no">testPSU</span>)</pre></body></html></div>
<p>This results in (using limited replicates to reduce computing time):</p>
</div>
</div>
<div id="probit-estimator-1" class="section level2">
<h2 class="hasAnchor">
<a href="#probit-estimator-1" class="anchor"></a>PROBIT estimator</h2>
<p>The function <code>estimateProbit</code> in <code>oldr</code> implements the blocked weighted bootstrap PROBIT estimator of RAM-OP. This function uses the <code>bootProbit</code> statistic to estimate indicator values.</p>
<p>The <code>estimateProbit</code> function is used for only the anthropometric indicators. The function is used as follows:</p>
<div class="sourceCode" id="cb5"><html><body><pre class="r"><span class="co">## Process and recode RAM-OP data (testSVY)</span>
<span class="no">df</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/create_op_all.html">create_op_all</a></span>(<span class="kw">svy</span> <span class="kw">=</span> <span class="no">testSVY</span>)

<span class="co">## Perform probit estimation on recoded data using appropriate weights provided by testPSU</span>
<span class="fu"><a href="../reference/estimateProbit.html">estimateProbit</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">df</span>, <span class="kw">w</span> <span class="kw">=</span> <span class="no">testPSU</span>)</pre></body></html></div>
<p>This results in (using limited replicates to reduce computing time):</p>
</div>
<div id="creating-charts" class="section level2">
<h2 class="hasAnchor">
<a href="#creating-charts" class="anchor"></a>Creating charts</h2>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Mark Myatt, Ernest Guevarra, Pascale Fritsch, Katja Siling.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
